"use strict";$(function(){var $description=$(".description"),$descriptionBtn=$(".description__container__btn"),$welcome=$(".welcome"),$afterGame=$(".afterGame"),$afterGameBtn=$(".afterGame__container__btn"),winnerKnown=!1,circleSource="dest/images/circleSmall.png";function nextSection(showElem,time,hideElem){return setTimeout(function(){showElem.addClass("active"),hideElem.removeClass("active")},time)}function npcMove(src,npcSign){if(!winnerKnown){var $uncheckedCells=$(".playing__container__table__row__cell").not(".checked"),npcChoice=$uncheckedCells.eq(Math.floor(Math.random()*$uncheckedCells.length));npcChoice.children(".playing__container__table__row__cell__img").attr("src",src).addClass("show"),npcChoice.addClass("checked ".concat(npcSign)),function(npcSign){($tableCells.eq(0).hasClass("".concat(npcSign))&&$tableCells.eq(3).hasClass("".concat(npcSign))&&$tableCells.eq(6).hasClass("".concat(npcSign))||$tableCells.eq(1).hasClass("".concat(npcSign))&&$tableCells.eq(4).hasClass("".concat(npcSign))&&$tableCells.eq(7).hasClass("".concat(npcSign))||$tableCells.eq(2).hasClass("".concat(npcSign))&&$tableCells.eq(5).hasClass("".concat(npcSign))&&$tableCells.eq(8).hasClass("".concat(npcSign))||$tableCells.eq(0).hasClass("".concat(npcSign))&&$tableCells.eq(4).hasClass("".concat(npcSign))&&$tableCells.eq(8).hasClass("".concat(npcSign))||$tableCells.eq(2).hasClass("".concat(npcSign))&&$tableCells.eq(4).hasClass("".concat(npcSign))&&$tableCells.eq(6).hasClass("".concat(npcSign))||$tableCells.eq(0).hasClass("".concat(npcSign))&&$tableCells.eq(1).hasClass("".concat(npcSign))&&$tableCells.eq(2).hasClass("".concat(npcSign))||$tableCells.eq(3).hasClass("".concat(npcSign))&&$tableCells.eq(4).hasClass("".concat(npcSign))&&$tableCells.eq(5).hasClass("".concat(npcSign))||$tableCells.eq(6).hasClass("".concat(npcSign))&&$tableCells.eq(7).hasClass("".concat(npcSign))&&$tableCells.eq(8).hasClass("".concat(npcSign)))&&endGame("PC")}(npcSign)}}function checkPlayerWin(playerSign){($tableCells.eq(0).hasClass("".concat(playerSign))&&$tableCells.eq(3).hasClass("".concat(playerSign))&&$tableCells.eq(6).hasClass("".concat(playerSign))||$tableCells.eq(1).hasClass("".concat(playerSign))&&$tableCells.eq(4).hasClass("".concat(playerSign))&&$tableCells.eq(7).hasClass("".concat(playerSign))||$tableCells.eq(2).hasClass("".concat(playerSign))&&$tableCells.eq(5).hasClass("".concat(playerSign))&&$tableCells.eq(8).hasClass("".concat(playerSign))||$tableCells.eq(0).hasClass("".concat(playerSign))&&$tableCells.eq(4).hasClass("".concat(playerSign))&&$tableCells.eq(8).hasClass("".concat(playerSign))||$tableCells.eq(2).hasClass("".concat(playerSign))&&$tableCells.eq(4).hasClass("".concat(playerSign))&&$tableCells.eq(6).hasClass("".concat(playerSign))||$tableCells.eq(0).hasClass("".concat(playerSign))&&$tableCells.eq(1).hasClass("".concat(playerSign))&&$tableCells.eq(2).hasClass("".concat(playerSign))||$tableCells.eq(3).hasClass("".concat(playerSign))&&$tableCells.eq(4).hasClass("".concat(playerSign))&&$tableCells.eq(5).hasClass("".concat(playerSign))||$tableCells.eq(6).hasClass("".concat(playerSign))&&$tableCells.eq(7).hasClass("".concat(playerSign))&&$tableCells.eq(8).hasClass("".concat(playerSign)))&&endGame("You")}function endGame(winner){winnerKnown=!0,$(".checked").each(function(){$(this).hasClass("circle")?$(this).removeClass("checked circle"):$(this).removeClass("checked x-cross"),$(this).children(".playing__container__table__row__cell__img").attr("src","").removeClass("show"),$(".afterGame__container__headline").text("".concat(winner," won")),$afterGame.fadeIn("slow")})}nextSection($welcome,5e3),setTimeout(function(){$description.show()},5e3);var $welcomeBtn=$("#welcomeBtn"),$signChoose=$(".signChoose"),$playing=$(".playing");$descriptionBtn.on("click",function(){$(".description__container__content").toggleClass("hide")}),$welcomeBtn.on("click",function(){nextSection($signChoose,1,$welcome)});var playerSign="";$(".signChoose__container__boxSigns__btn").on("click",function(){playerSign=$(this).hasClass("signChoose__container__boxSigns__btn--circle")?"circle":"cross",$signChoose.hide(),$playing.show(),"cross"===playerSign&&npcMove(circleSource,"circle")});var $tableCells=$(".playing__container__table__row__cell");$tableCells.each(function(){$(this).on("click",function(){winnerKnown&&(winnerKnown=!1),""===$(this).children(".playing__container__table__row__cell__img").attr("src")&&("circle"===playerSign?($(this).children(".playing__container__table__row__cell__img").attr("src",circleSource).addClass("show"),$(this).addClass("checked circle"),checkPlayerWin("circle"),npcMove("dest/images/x-crossSmall.png","x-cross")):($(this).children(".playing__container__table__row__cell__img").attr("src","dest/images/x-crossSmall.png").addClass("show"),$(this).addClass("checked x-cross"),checkPlayerWin("x-cross"),npcMove(circleSource,"circle"))),0===$(".playing__container__table__row__cell").not(".checked").length&&endGame("Draw, nobody")})}),$afterGameBtn.on("click",function(){$afterGame.fadeOut("slow")})});